<html>

<head>

<title>AuthDog Test</title>

</head>

<body>

<h1>Register</h1>
<form id='form-register'>
    Token Name:<br>
    <input type="text" name="name"><br>
    <input type="Button" value="Submit" onclick="reg()">
    <p id="register-response"></p>
</form>

<h1>Sign</h1>
<form id='form-sign'>
    <input type="Button" value="Submit" onclick="sign()">
    <p id="sign-response"></p>
</form>


<script src='jquery-3.0.0.min.js'></script>
<script src='u2f-api.js'></script>
<script src='main.js'></script>

<script>

function reg() {
    var name = $('#form-register').serializeArray()[0].value;
    
    $('#register-response').text('Insert key and press button');

    U2FRegister(name)
    .then(function(res) {
        console.log(res);
        $('#register-response').text('Registration OK');
    }, function(err) {
        console.log(err);
        $('#register-response').text('Registration error: ' + err);
    })
}

function sign() {
    $('#sign-response').text('Insert key and press button');
    
    U2FSign()
    .then(function(res) {
        console.log(res);
        $('#sign-response').text("Signing OK");
    }, function(err) {
        console.log(err);
        $('#sign-response').text("Signing error: " + err);
    })
}

</script>

</body>

</html>